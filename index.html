<!DOCTYPE html>
<html>
<head>
<title>Checkout - One Bite</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body style="background:black;color:gold;text-align:center;font-family:sans-serif;">

<h2>Checkout - One Bite</h2>

<input id="name" placeholder="Name"><br><br>
<input id="phone" placeholder="Phone"><br><br>
<input id="address" placeholder="Address"><br><br>

<button onclick="placeOrder()">Place Order</button>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyB63wz4Z8maGyYk7UdvZk2IvxwGXYePisA",
  authDomain: "onebiteapp-b19c3.firebaseapp.com",
  projectId: "onebiteapp-b19c3",
  storageBucket: "onebiteapp-b19c3.firebasestorage.app",
  messagingSenderId: "925416277184",
  appId: "1:925416277184:web:0af73016a42be902ea5925",
  databaseURL: "https://onebiteapp-b19c3-default-rtdb.asia-southeast1.firebasedatabase.app"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.placeOrder = function(){

  let name = document.getElementById("name").value;
  let phone = document.getElementById("phone").value;
  let address = document.getElementById("address").value;

  if(!name || !phone || !address){
    alert("Fill all fields");
    return;
  }

  push(ref(db, "orders"), {
    name:name,
    phone:phone,
    address:address,
    total:100,
    status:"Pending",
    time:new Date().toLocaleString()
  })
  .then(() => {
    alert("Saved to Firebase!");
  })
  .catch((error) => {
    alert("Error: " + error.message);
  });

};

</script>

</body>
</html>
